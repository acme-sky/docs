"use strict";(self.webpackChunkacme_sky_docs=self.webpackChunkacme_sky_docs||[]).push([[166],{2541:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>c,contentTitle:()=>o,default:()=>p,frontMatter:()=>a,metadata:()=>s,toc:()=>l});var r=n(4848),t=n(8453);const a={sidebar_position:2,slug:"/services/airline"},o="Airline",s={id:"services/airline",title:"Airline",description:"Servizio usato come gestore di una compagnia aerea, in cui si possono cercare e",source:"@site/docs/services/airline.md",sourceDirName:"services",slug:"/services/airline",permalink:"/services/airline",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2,slug:"/services/airline"},sidebar:"defaultSidebar",previous:{title:"Servizi",permalink:"/services/"},next:{title:"Bank",permalink:"/services/bank"}},c={},l=[{value:"Set up",id:"set-up",level:2},{value:"API",id:"api",level:2},{value:"/v1/airports/",id:"v1airports",level:3},{value:"/v1/flights/",id:"v1flights",level:3},{value:"/v1/hooks/",id:"v1hooks",level:3},{value:"/v1/journeys/",id:"v1journeys",level:3},{value:"Codice sorgente",id:"codice-sorgente",level:2}];function d(e){const i={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.h1,{id:"airline",children:"Airline"}),"\n",(0,r.jsx)(i.p,{children:"Servizio usato come gestore di una compagnia aerea, in cui si possono cercare e\nprenotare dei voli."}),"\n",(0,r.jsxs)(i.p,{children:["Il servizio dispone solo di interfaccia tramite API perch\xe9 l'utente non accede\ndirettamente ad ",(0,r.jsx)(i.code,{children:"Airline"})," per la prenotazione: \xe8 ACMESky a fare tutto ci\xf2."]}),"\n",(0,r.jsx)(i.h2,{id:"set-up",children:"Set up"}),"\n",(0,r.jsxs)(i.p,{children:["Il servizio \xe8 una REST API scritta in Go. Bisogna definire una variabile\nd'ambiente per il database che per\xf2, a differenza degli altri servizi, \xe8\ndefinita come stringa DSN.\nInoltre, dato che alcuni endpoint richiedono l'autenticazione, bisogna fare il\nlogin e usare il token ",(0,r.jsx)(i.a,{href:"https://jwt.io",children:"JWT"})," generato. La chiave usata per\ngenerare il token \xe8 definito dalla variabile d'ambiente ",(0,r.jsx)(i.code,{children:"JWT_TOKEN"}),"."]}),"\n",(0,r.jsx)(i.h2,{id:"api",children:"API"}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.img,{alt:"Swagger screenshot",src:n(7120).A+"",width:"1920",height:"1927"})}),"\n",(0,r.jsx)(i.p,{children:"Nel README \xe8 presente una descrizione su come creare un utente sfruttando il\ncontainer Docker.\nUna volta creato si pu\xf2 procedere con il login per la creazione del token di\nautorizzazione agli endpoint."}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:'$ curl -X POST http://localhost:8080/v1/login/ -H \'content-type: application/json\' -H \'accept: application/json, */*;q=0.5\' -d \'{"username":"sa","password":"*****"}\'\nHTTP/1.1 200 OK\nContent-Length: 147\nContent-Type: application/json; charset=utf-8\nDate: Tue, 02 Apr 2024 10:14:41 GMT\n\n{\n    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6InVzZXJuYW1lIiwiZXhwIjoxNzEyMDU2NDgxfQ.7R87BuuVkvOwojBpLmJ8OKtKC0B9Iq-wWSA_pqGBVXE"\n}\n'})}),"\n",(0,r.jsx)(i.h3,{id:"v1airports",children:"/v1/airports/"}),"\n",(0,r.jsx)(i.p,{children:"Gestione degli aeroporti. Solo gli utenti possono gestirli."}),"\n",(0,r.jsx)(i.h3,{id:"v1flights",children:"/v1/flights/"}),"\n",(0,r.jsxs)(i.p,{children:["Gestione dei voli. Solo gli utenti possono gestirli. I privati filtrare i voli\nin base ai campi ",(0,r.jsx)(i.code,{children:"departaure_time"}),", ",(0,r.jsx)(i.code,{children:"arrival_time"}),", ",(0,r.jsx)(i.code,{children:"departaure_airport_id"})," e\n",(0,r.jsx)(i.code,{children:"arrival_airport_id"}),"."]}),"\n",(0,r.jsx)(i.h3,{id:"v1hooks",children:"/v1/hooks/"}),"\n",(0,r.jsxs)(i.p,{children:["Gestione di endpoint in cui la compagnia area pu\xf2 fare richieste per inviare le\nofferte. Una nuova offerta viene fatta mediante chaimata HTTP ",(0,r.jsx)(i.code,{children:"POST <url>/v1/hooks/offer/"})," con parametro ",(0,r.jsx)(i.code,{children:"flight_id"}),"."]}),"\n",(0,r.jsx)(i.h3,{id:"v1journeys",children:"/v1/journeys/"}),"\n",(0,r.jsxs)(i.p,{children:["Gestione dei viaggi. L'utente crea un viaggio usando il campo ",(0,r.jsx)(i.code,{children:"email"})," per\ncontrassegnare l'utente della propria piattaforma."]}),"\n",(0,r.jsx)(i.h2,{id:"codice-sorgente",children:"Codice sorgente"}),"\n",(0,r.jsxs)(i.p,{children:["Il server \xe8 presente alla seguente ",(0,r.jsx)(i.a,{href:"https://github.com/acme-sky/airline-service",children:"repository Github"}),"."]})]})}function p(e={}){const{wrapper:i}={...(0,t.R)(),...e.components};return i?(0,r.jsx)(i,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},7120:(e,i,n)=>{n.d(i,{A:()=>r});const r=n.p+"assets/images/swagger-airline-135f83b85bf166f7a9ecf50f21a65514.png"},8453:(e,i,n)=>{n.d(i,{R:()=>o,x:()=>s});var r=n(6540);const t={},a=r.createContext(t);function o(e){const i=r.useContext(a);return r.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function s(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),r.createElement(a.Provider,{value:i},e.children)}}}]);